#######################################
# point-log.properties
#######################################
selectPointLogList = SELECT V.*,TO_CHAR(LOG_DATE,'YYYY-MM-DD HH24:Mi:SS') AS "LOG_DATE_TIME" FROM(SELECT ROWNUM AS RNUM, V.* FROM(SELECT L.*, M.MEMBER_ID FROM(SELECT P.*,A.TITLE FROM PNT_LOG P LEFT OUTER JOIN AD_POST A ON P.POST_KEY = A.KEY)L LEFT OUTER JOIN MEMBER M ON L.USER_KEY = M.KEY ORDER BY L.KEY DESC)V )V WHERE RNUM BETWEEN ? AND ?
selectPointLogCount = SELECT COUNT(*) "cnt" FROM PNT_LOG
AdminInsertSendPointLog = INSERT INTO PNT_LOG VALUES(SEQ_PNT_LOG.NEXTVAL, (SELECT KEY FROM MEMBER WHERE MEMBER_ID = ?), NULL, SYSDATE, ?, 'A', (SELECT POINT FROM MEMBER WHERE MEMBER_ID = ?))
PointLogRankingTodayList = SELECT * FROM(SELECT V.MEMBER_ID, SUM(POINT)"SUM_POINT" FROM(SELECT L.*, M.MEMBER_ID FROM(SELECT P.*,A.TITLE FROM PNT_LOG P LEFT OUTER JOIN AD_POST A ON P.POST_KEY = A.KEY)L LEFT OUTER JOIN MEMBER M ON L.USER_KEY = M.KEY) V WHERE (STATUS='C' AND TO_CHAR(LOG_DATE, 'YYYYMMDD') = TO_CHAR(SYSDATE, 'YYYYMMDD')) GROUP BY (MEMBER_ID) ORDER BY 2 DESC) WHERE ROWNUM <= 10
PointLogRankingWeekList = SELECT * FROM(SELECT V.MEMBER_ID, SUM(POINT)"SUM_POINT" FROM(SELECT L.*, M.MEMBER_ID FROM(SELECT P.*,A.TITLE FROM PNT_LOG P LEFT OUTER JOIN AD_POST A ON P.POST_KEY = A.KEY)L LEFT OUTER JOIN MEMBER M ON L.USER_KEY = M.KEY) V WHERE (STATUS='C' AND TO_CHAR(LOG_DATE, 'YYYYMMDD') >= TO_CHAR(SYSDATE-6, 'YYYYMMDD')) GROUP BY (MEMBER_ID) ORDER BY 2 DESC) WHERE ROWNUM <= 10
PointLogRankingYearList = SELECT * FROM(SELECT V.MEMBER_ID, SUM(POINT)"SUM_POINT" FROM(SELECT L.*, M.MEMBER_ID FROM(SELECT P.*,A.TITLE FROM PNT_LOG P LEFT OUTER JOIN AD_POST A ON P.POST_KEY = A.KEY)L LEFT OUTER JOIN MEMBER M ON L.USER_KEY = M.KEY) V WHERE (STATUS='C' AND TO_CHAR(LOG_DATE, 'YYYY') = TO_CHAR(SYSDATE, 'YYYY')) GROUP BY (MEMBER_ID) ORDER BY 2 DESC) WHERE ROWNUM <= 10
selectMemberPointLogList = SELECT * FROM(SELECT ROWNUM AS RNUM ,V.* FROM( SELECT V.*,TO_CHAR(LOG_DATE,'YYYY-MM-DD HH24:Mi:SS') AS "LOG_DATE_TIME" FROM(SELECT V.* FROM(SELECT L.*, M.MEMBER_ID FROM(SELECT P.*,A.TITLE FROM PNT_LOG P LEFT OUTER JOIN AD_POST A ON P.POST_KEY = A.KEY)L LEFT OUTER JOIN MEMBER M ON L.USER_KEY = M.KEY ORDER BY L.KEY DESC)V )V WHERE MEMBER_ID = ?)V) WHERE RNUM BETWEEN ? AND ?
selectMemberPointLogCount = SELECT COUNT(*) "cnt" FROM(SELECT * FROM(SELECT V.*,TO_CHAR(LOG_DATE,'YYYY-MM-DD HH24:Mi:SS') AS "LOG_DATE_TIME" FROM(SELECT ROWNUM AS RNUM, V.* FROM(SELECT L.*, M.MEMBER_ID FROM(SELECT P.*,A.TITLE FROM PNT_LOG P LEFT OUTER JOIN AD_POST A ON P.POST_KEY = A.KEY)L LEFT OUTER JOIN MEMBER M ON L.USER_KEY = M.KEY ORDER BY L.KEY DESC)V )V) WHERE MEMBER_ID = ?)
selectSales = SELECT * FROM (SELECT (SELECT SUM(POINT) FROM PNT_LOG WHERE STATUS = 'I' AND TO_CHAR(LOG_DATE, 'YYYYMMDD') = TO_CHAR(SYSDATE, 'YYYYMMDD')) - NVL((SELECT SUM(POINT) FROM PNT_LOG WHERE STATUS = 'O' AND TO_CHAR(LOG_DATE, 'YYYYMMDD') = TO_CHAR(SYSDATE, 'YYYYMMDD')),0) "T1" FROM DUAL) , (SELECT (SELECT SUM(POINT) FROM PNT_LOG WHERE STATUS = 'I' AND LOG_DATE BETWEEN SYSDATE-6 AND SYSDATE) - NVL((SELECT SUM(POINT) FROM PNT_LOG WHERE STATUS = 'O' AND LOG_DATE BETWEEN SYSDATE-6 AND SYSDATE),0) "W1" FROM DUAL), (SELECT (SELECT SUM(POINT) FROM PNT_LOG WHERE STATUS = 'I' AND TO_CHAR(LOG_DATE, 'YYYY') = TO_CHAR(SYSDATE, 'YYYY')) - NVL((SELECT SUM(POINT) FROM PNT_LOG WHERE STATUS = 'O' AND TO_CHAR(LOG_DATE, 'YYYY') = TO_CHAR(SYSDATE, 'YYYY')),0) "Y1" FROM DUAL), (SELECT SUM(POINT)*0.1 "T2" FROM PNT_LOG WHERE STATUS = 'I' AND TO_CHAR(LOG_DATE, 'YYYYMMDD') = TO_CHAR(SYSDATE, 'YYYYMMDD')) "T2" , (SELECT SUM(POINT)*0.1 "W2" FROM PNT_LOG WHERE STATUS = 'I' AND LOG_DATE BETWEEN SYSDATE-6 AND SYSDATE) "W2", (SELECT SUM(POINT)*0.1 "Y2" FROM PNT_LOG WHERE STATUS = 'I' AND TO_CHAR(LOG_DATE, 'YYYY') = TO_CHAR(SYSDATE, 'YYYY')) "Y2"

